{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PushNotification = void 0;\nconst defaultDuration = 3000;\nclass PushNotification {\n  constructor(op) {\n    this.title = op.title;\n    this.subtitle = op.subtitle;\n    this.message = op.message;\n    this.theme = op.theme;\n    this.id = Math.random();\n    this.styling = op.styling;\n    this.closeButton = op.closeButton;\n    this.onClick = op.onClick;\n  }\n}\nexports.PushNotification = PushNotification;\nclass Storage {\n  constructor() {\n    this.Storage = [];\n    this.Listener = () => this.Storage;\n    this.popAndPush = NotificationId => {\n      let i = 0;\n      while (i < this.Storage.length) {\n        if (this.Storage[i].id === NotificationId) {\n          this.Storage.splice(i, 1);\n        } else {\n          ++i;\n        }\n      }\n      this.Listener(this.Storage);\n    };\n    this.setTimer = (NotificationId, duration) => {\n      setTimeout(() => this.popAndPush(NotificationId), duration);\n    };\n    this.addListener = listener => {\n      this.Listener = listener;\n    };\n    this.addNativeNotification = options => __awaiter(this, void 0, void 0, function* () {\n      const {\n        title,\n        subtitle,\n        message,\n        duration,\n        icon,\n        vibrate,\n        silent,\n        onClick\n      } = options;\n      if (Notification.permission === 'default' || Notification.permission === 'denied') {\n        yield Notification.requestPermission();\n      }\n      if (Notification.permission === 'granted') {\n        const not = new Notification(title, {\n          body: message,\n          data: subtitle,\n          icon,\n          vibrate,\n          silent\n        });\n        not.onclick = onClick || null;\n        setTimeout(not.close.bind(not), duration || defaultDuration);\n      }\n    });\n    this.addWebNotification = options => {\n      const {\n        title,\n        subtitle,\n        message,\n        theme,\n        duration,\n        backgroundBottom,\n        backgroundTop,\n        colorBottom,\n        colorTop,\n        closeButton,\n        onClick\n      } = options;\n      const styling = {\n        backgroundTop,\n        backgroundBottom,\n        colorTop,\n        colorBottom\n      };\n      const newNotification = new PushNotification({\n        title,\n        subtitle,\n        message,\n        theme,\n        styling,\n        closeButton,\n        onClick\n      });\n      this.Storage.push(newNotification);\n      this.setTimer(newNotification.id, duration || defaultDuration);\n      this.Listener(this.Storage);\n    };\n    this.addNotification = options => __awaiter(this, void 0, void 0, function* () {\n      const {\n        native\n      } = options;\n      if (native) {\n        return this.addNativeNotification(options);\n      }\n      return this.addWebNotification(options);\n    });\n  }\n}\nexports.default = new Storage();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","PushNotification","defaultDuration","constructor","op","title","subtitle","message","theme","id","Math","random","styling","closeButton","onClick","Storage","Listener","popAndPush","NotificationId","i","length","splice","setTimer","duration","setTimeout","addListener","listener","addNativeNotification","options","icon","vibrate","silent","Notification","permission","requestPermission","not","body","data","onclick","close","bind","addWebNotification","backgroundBottom","backgroundTop","colorBottom","colorTop","newNotification","push","addNotification","native","default"],"sources":["C:/Users/jelni/OneDrive/Рабочий стол/reactnotifications2/node_modules/react-push-notification/dist/notifications/Storage.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PushNotification = void 0;\nconst defaultDuration = 3000;\nclass PushNotification {\n    constructor(op) {\n        this.title = op.title;\n        this.subtitle = op.subtitle;\n        this.message = op.message;\n        this.theme = op.theme;\n        this.id = Math.random();\n        this.styling = op.styling;\n        this.closeButton = op.closeButton;\n        this.onClick = op.onClick;\n    }\n}\nexports.PushNotification = PushNotification;\nclass Storage {\n    constructor() {\n        this.Storage = [];\n        this.Listener = () => this.Storage;\n        this.popAndPush = (NotificationId) => {\n            let i = 0;\n            while (i < this.Storage.length) {\n                if (this.Storage[i].id === NotificationId) {\n                    this.Storage.splice(i, 1);\n                }\n                else {\n                    ++i;\n                }\n            }\n            this.Listener(this.Storage);\n        };\n        this.setTimer = (NotificationId, duration) => {\n            setTimeout(() => this.popAndPush(NotificationId), duration);\n        };\n        this.addListener = (listener) => {\n            this.Listener = listener;\n        };\n        this.addNativeNotification = (options) => __awaiter(this, void 0, void 0, function* () {\n            const { title, subtitle, message, duration, icon, vibrate, silent, onClick } = options;\n            if (Notification.permission === 'default' || Notification.permission === 'denied') {\n                yield Notification.requestPermission();\n            }\n            if (Notification.permission === 'granted') {\n                const not = new Notification(title, {\n                    body: message,\n                    data: subtitle,\n                    icon,\n                    vibrate,\n                    silent\n                });\n                not.onclick = onClick || null;\n                setTimeout(not.close.bind(not), duration || defaultDuration);\n            }\n        });\n        this.addWebNotification = (options) => {\n            const { title, subtitle, message, theme, duration, backgroundBottom, backgroundTop, colorBottom, colorTop, closeButton, onClick } = options;\n            const styling = {\n                backgroundTop,\n                backgroundBottom,\n                colorTop,\n                colorBottom\n            };\n            const newNotification = new PushNotification({ title, subtitle, message, theme, styling, closeButton, onClick });\n            this.Storage.push(newNotification);\n            this.setTimer(newNotification.id, duration || defaultDuration);\n            this.Listener(this.Storage);\n        };\n        this.addNotification = (options) => __awaiter(this, void 0, void 0, function* () {\n            const { native } = options;\n            if (native) {\n                return this.addNativeNotification(options);\n            }\n            return this.addWebNotification(options);\n        });\n    }\n}\nexports.default = new Storage();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}